{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/utils.js","utils/api.js","images/profile__avatar.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","link","name","onCardClick","console","log","onCardLike","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","Footer","PopupWithForm","isOpened","e","target","classList","contains","onClose","action","onSubmit","noValidate","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","isOpen","evt","preventDefault","onUpdateUser","id","value","onChange","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","onUpdateAvatar","inputAvatar","useRef","current","ref","AddPlacePopup","setLink","ImagePopup","handleOriginalResponse","res","ok","json","Promise","reject","status","api","options","this","baseUrl","headers","fetch","then","userInfo","method","body","JSON","stringify","cardInfo","cardId","setLike","avatarLink","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","avatarDefault","setCurrentUser","setCards","closeAllPopups","getInitialCards","initialCards","catch","err","handleEscClose","key","document","addEventListener","removeEventListener","getUserInfo","data","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","editProfile","addCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7f5a3e35.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.047d20f8.svg\";","import React from 'react';\r\nimport logo from './../images/header__logo.svg';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Место в России\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `button ${isOwn ? 'button_type_remove-card' : 'button_type_remove-card-hidden'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `button ${isLiked ? 'button_type_add-like-active' : 'button_type_add-like'}`\r\n  );\r\n\r\n  function handleImageClick() {\r\n    props.onCardClick(props.card);\r\n    console.log(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n      <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleImageClick} />\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__name\">{props.card.name}</h2>\r\n        <div className=\"card__like\">\r\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <span className=\"card__like-count\">{props.card.likes.length ? props.card.likes.length : ''}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__about\">\r\n          <div className=\"profile__avatar\" onClick={onEditAvatar}>\r\n            <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar-img\" />\r\n          </div>\r\n          <div className=\"profile__description\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"button button_type_edit-profile\" onClick={onEditProfile}></button>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button type=\"button\" className=\"button button_type_add-card\" onClick={onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"cards\">\r\n          {cards.map(card => (\r\n            <Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer(props) {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpened && 'popup_opened'} popup_type_${props.name}`} onClick={(e) => { if (e.target.classList.contains('popup')) props.onClose() }}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"button button_type_close-popup\" onClick={props.onClose}></button>\r\n        <form action=\"#\" name={`${props.name}`} className=\"form\" onSubmit={props.onSubmit} noValidate>\r\n          <h2 className={`popup__heading`}>{props.title}</h2>\r\n          {props.children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpened={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n    >\r\n      <label className=\"form__field\">\r\n        <input type=\"text\"\r\n          name=\"name\"\r\n          id=\"profile-name-input\"\r\n          value={name}\r\n          onChange={handleChangeName}\r\n          placeholder=\"Имя\"\r\n          className=\"form__input form__input_el_profile-name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          autoComplete=\"off\" />\r\n        <span className=\"form__input-error profile-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input type=\"text\"\r\n          name=\"description\"\r\n          id=\"profile-job-input\"\r\n          value={description}\r\n          onChange={handleChangeDescription}\r\n          placeholder=\"Вид деятельности\"\r\n          className=\"form__input form__input_el_profile-job\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          autoComplete=\"off\" />\r\n        <span className=\"form__input-error profile-job-input-error\"></span>\r\n      </label>\r\n      <button type=\"submit\" className=\"button button_type_submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputAvatar = useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputAvatar.current.value\r\n    });\r\n    inputAvatar.current.value = '';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpened={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n    >\r\n      <label className=\"form__field\">\r\n        <input type=\"url\"\r\n          name=\"avatar-link\"\r\n          id=\"avatar-link-input\"\r\n          ref={inputAvatar}\r\n          className=\"form__input form__input_size_small form__input_el_avatar-link\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          required\r\n          autoComplete=\"off\" />\r\n        <span className=\"form__input-error avatar-link-input-error\"></span>\r\n      </label>\r\n      <button type=\"submit\" className=\"button button_type_submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleCardNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleCardLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpened={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n    >\r\n      <label className=\"form__field\">\r\n        <input type=\"text\"\r\n          name=\"card-name\"\r\n          id=\"card-name-input\"\r\n          value={name}\r\n          onChange={handleCardNameChange}\r\n          className=\"form__input form__input_size_small form__input_el_card-name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          autoComplete=\"off\" />\r\n        <span className=\"form__input-error card-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input type=\"url\"\r\n          name=\"card-link\"\r\n          id=\"card-link-input\"\r\n          value={link}\r\n          onChange={handleCardLinkChange}\r\n          className=\"form__input form__input_size_small form__input_el_card-link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          autoComplete=\"off\" />\r\n        <span className=\"form__input-error card-link-input-error\"></span>\r\n      </label>\r\n      <button type=\"submit\" className=\"button button_type_submit\">Создать</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <>\r\n      <div className={`popup popup_type_show-card ${props.card && 'popup_opened'}`} onClick={(e) => { if (e.target.classList.contains('popup')) props.onClose() }}>\r\n        <div className=\"popup__container popup__container_size_large\">\r\n          <button type=\"button\" className=\"button button_type_close-popup\" onClick={props.onClose}></button>\r\n          <figure className=\"popup__figure\">\r\n            <img src={props.card && props.card.link} alt={props.card && props.card.name} className=\"popup__image\" />\r\n            <figcaption className=\"popup__caption\">{props.card && props.card.name}</figcaption>\r\n          </figure>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","const handleOriginalResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Error: ${res.status}`);\r\n}\r\n\r\nexport default handleOriginalResponse;","import handleOriginalResponse from './utils.js';\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers\r\n    })\r\n      .then(handleOriginalResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards/`, {\r\n      headers: this.headers\r\n    })\r\n      .then(handleOriginalResponse);\r\n  }\r\n\r\n  editProfile(userInfo) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: userInfo.name,\r\n        about: userInfo.about\r\n      })\r\n    })\r\n      .then(handleOriginalResponse);\r\n  }\r\n\r\n  addCard(cardInfo) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: cardInfo.name,\r\n        link: cardInfo.link\r\n      })\r\n    })\r\n      .then(handleOriginalResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n      .then(handleOriginalResponse);\r\n    ;\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, setLike) {\r\n    if (setLike) {\r\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: this.headers,\r\n      })\r\n        .then(handleOriginalResponse);\r\n    } else {\r\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: this.headers,\r\n      })\r\n        .then(handleOriginalResponse);\r\n    }\r\n  }\r\n\r\n  // addLike(cardId) {\r\n\r\n  // }\r\n\r\n  // deleteLike(cardId) {\r\n\r\n  // }\r\n\r\n  updateAvatar(avatarLink) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    })\r\n      .then(handleOriginalResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers: {\r\n    authorization: 'c965dbbc-afa4-4385-8eef-dcc49737a825',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","export default __webpack_public_path__ + \"static/media/profile__avatar.64512549.svg\";","import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport avatarDefault from './../images/profile__avatar.svg';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);                       // Стейт попап редактирования профиля открыт\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);                             // Стейт попап добавить карточку открыт\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);                         // Стейт попап редактирования аватара открыт\r\n  const [selectedCard, setSelectedCard] = useState(null);                                            // Стейт выбранная карточка для передачи картинки карточки в попап\r\n  const [currentUser, setCurrentUser] = useState({ name: '', about: '', avatar: avatarDefault });    // Стейт данные текущего пользователя\r\n  const [cards, setCards] = useState([]);                                                            // Стейт массив карточек\r\n\r\n  // Обработчик клика по аватару\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  // Обработчик клика по кнопке редактирования профиля\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  // Обработчик клика по кнопке добавить карточку\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // Функция закрытия всех попапов\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  // Обработчик клика по картинке карточки\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(userInfo) {\r\n    api.editProfile(userInfo)\r\n      .then(data => {\r\n        setCurrentUser({ ...data });\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api.updateAvatar(avatar)\r\n      .then(data => {\r\n        setCurrentUser({ ...data });\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then(newCard => {\r\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter(c => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(cardInfo) {\r\n    api.addCard(cardInfo)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  // Загрузка карточек по умолчанию\r\n  useEffect(() => {\r\n    api.getInitialCards()\r\n      .then(initialCards => {\r\n        setCards(initialCards);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  // Добавить/удалить слушателя нажатия Esc при открытии попапа\r\n  useEffect(() => {\r\n    function handleEscClose(evt) {\r\n      if (evt.key === 'Escape') {\r\n        closeAllPopups();\r\n      };\r\n    }\r\n\r\n    (isEditProfilePopupOpen || isAddPlacePopupOpen || isEditAvatarPopupOpen || selectedCard) && document.addEventListener('keydown', handleEscClose);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscClose);\r\n    }\r\n  }, [isEditProfilePopupOpen, isAddPlacePopupOpen, isEditAvatarPopupOpen, selectedCard]);\r\n\r\n  // Загрузка данных пользователя\r\n  useEffect(() => {\r\n    api.getUserInfo()\r\n      .then(data => {\r\n        setCurrentUser({ ...data });\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page__container\">\r\n        <Header />\r\n        <Main\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n          cards={cards}\r\n        />\r\n        <Footer />\r\n        {/* <!-- Попап редактировать профиль --> */}\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        {/* <!-- Попап добавить карточку --> */}\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        {/* <!-- Попап картинка --> */}\r\n        <ImagePopup\r\n          onClose={closeAllPopups}\r\n          card={selectedCard}\r\n        />\r\n        {/* <!-- Попап удаления карточки --> */}\r\n        <PopupWithForm\r\n          onClose={closeAllPopups}\r\n          name=\"delete-card\"\r\n          title=\"Вы уверены?\"\r\n        >\r\n          <button type=\"button\" className=\"button button_type_submit\">Нет</button>\r\n        </PopupWithForm>\r\n\r\n        {/* <!-- Попап обновить аватар --> */}\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}